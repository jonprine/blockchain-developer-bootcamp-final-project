{"version":3,"sources":["utils.js","components/OfferCard.js","components/EventBox.js","pages/Offers.js","pages/Create.js","components/OfferBox.js","components/BalanceCard.js","pages/Main.js","pages/Landing.js","components/Layout.js","App.js","index.js"],"names":["getWeb3","Promise","resolve","reject","a","detectEthereumProvider","provider","request","method","web3","Web3","window","ethereum","error","getConcert","eth","net","getId","networkId","contractDeployment","Concert","networks","Contract","abi","address","OfferCard","offer","handleApprove","Card","elevation","CardContent","Typography","variant","color","guarantee","deposit","IconButton","onClick","id","ThumbUpAlt","EventBox","show","Box","border","borderColor","height","width","display","justifyContent","alignItems","bgcolor","List","align","billing","date","city","venue","useStyles","makeStyles","spacing","padding","marginTop","Offers","classes","useState","undefined","setWeb3","accounts","setAccounts","concert","setConcert","shows","setShows","offers","setOffers","history","useHistory","useEffect","init","getAccounts","methods","readEvent","call","then","showInfo","currentShow","length","getAllOffers","approvedOffer","currentApprovedOffer","on","approveOffer","send","from","gas","push","Container","Grid","container","className","item","xs","md","lg","field","marginBottom","boxes","Create","setDate","setBilling","setCity","setVenue","setGuarantee","setDeposit","dueDate","setDueDate","sendMoney","setSendMoney","dateError","setDateError","billingError","setBillingError","cityError","setCityError","venueError","setVenueError","guaranteeError","setGuaranteeError","depositError","setDepositError","dueDateError","setDueDateError","sendMoneyError","setSendMoneyError","e","preventDefault","utils","toBN","createEvent","createOffer","toString","value","go","title","component","gutterBottom","noValidate","autoComplete","onSubmit","TextField","onChange","target","label","required","Button","btn","console","log","type","endIcon","OfferBox","handleReceive","balance","handleWithdraw","setBalance","getBalance","updatedBalance","receiveFullGuarantee","withdraw","Landing","purchaser","setPurchaser","artist","setArtist","purchaserError","setPurchaserError","artistError","setArtistError","createParties","page","background","root","drawer","drawerPaper","active","Layout","children","location","useLocation","menuItems","text","icon","AddCircleOutlined","path","Drawer","paper","anchor","map","ListItem","button","pathname","ListItemIcon","ListItemText","primary","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.511bc672.chunk.js","sourcesContent":["import Web3 from 'web3';\nimport detectEthereumProvider from \"@metamask/detect-provider\";\nimport Concert from './contracts/Concert.json';\n\nconst getWeb3 = () =>\n  new Promise(async (resolve, reject) => {\n    let provider = await detectEthereumProvider();\n\n    if (provider) {\n      await provider.request({ method: \"eth_requestAccounts\" });\n\n      try {\n        const web3 = new Web3(window.ethereum);\n\n        resolve(web3);\n      } catch (error) {\n        reject(error);\n      }\n    }\n    reject(\"Install Metamask\");\n  });\n\nconst getConcert = async web3 => {\n    const networkId = await web3.eth.net.getId();\n    const contractDeployment = Concert.networks[networkId];\n    return new web3.eth.Contract(\n        Concert.abi,\n        contractDeployment && contractDeployment.address\n    );\n};\n\nexport { getWeb3, getConcert}\n","import React from \"react\";\nimport { Card, CardContent, IconButton, Typography } from \"@mui/material\";\nimport { ThumbUpAlt } from \"@mui/icons-material\";\n\nexport default function OfferCard({ offer, handleApprove }) {\n  return (\n    <div>\n      <Card elevation={1} >\n        <CardContent>\n          <Typography variant=\"h6\" color=\"primary.main\">\n            Offer\n          </Typography>\n        <Typography variant=\"h7\" color=\"textSecondary\">\n            Guarantee: { offer.guarantee } wei\n            Deposit: {offer.deposit} wei\n          </Typography>\n         \n         \n              <IconButton onClick={() => handleApprove(offer.id)}>\n              <Typography variant=\"body2\" color=\"green\">\n                <ThumbUpAlt /> Confirm Show\n                </Typography>\n              </IconButton>\n              \n\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","import React from \"react\";\nimport { Box, Typography } from \"@mui/material\";\nimport List from '@mui/material/List';\n\n\nexport default function EventBox({show}) {\n    return (\n        <Box\n        border={1}\n        elevation={2}\n        borderColor=\"gold\"\n        height={400}\n        width={400}\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        bgcolor=\"primary.main\"\n        color=\"white\"\n      >\n       <List>\n       <Typography variant=\"h2\" align=\"center\" >\n            { show.billing }\n          </Typography>\n        <Typography variant=\"h4\" align=\"center\">\n            { show.date }\n          </Typography>\n          <Typography variant=\"h4\" align=\"center\">\n            { show.city }\n          </Typography>\n          <Typography variant=\"h4\" align=\"center\">\n            { show.venue }\n          </Typography>\n          </List> \n      </Box>\n    );\n  }","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getConcert } from \"../utils\";\nimport { Grid, Container } from \"@mui/material\";\nimport OfferCard from \"../components/OfferCard\";\nimport EventBox from \"../components/EventBox\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  spacing: {\n    padding: 45,\n    marginTop: 40,\n  },\n});\n\nexport default function Offers() {\n  const classes = useStyles();\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [concert, setConcert] = useState(undefined);\n  const [shows, setShows] = useState([]);\n  const [offers, setOffers] = useState([]);\n  const history = useHistory();\n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const concert = await getConcert(web3);\n      setWeb3(web3);\n      setAccounts(accounts);\n      setConcert(concert);\n      let showInfo = await concert.methods.readEvent().call().then();\n      let currentShow = showInfo[showInfo.length - 1];\n      setShows(currentShow);\n      let approvedOffer = await concert.methods.getAllOffers().call().then();\n      let currentApprovedOffer = approvedOffer[approvedOffer.length - 1];\n      setOffers(currentApprovedOffer);\n\n    };\n    init();\n    window.ethereum.on('accountsChanged', accounts => {\n      setAccounts(accounts);\n    });\n  }, []);\n\n  if (\n    typeof web3 === \"undefined\" ||\n    typeof accounts === \"undefined\" ||\n    typeof concert === \"undefined\" ||\n    typeof shows === \"undefined\" ||\n    typeof offers === \"undefined\"\n  ) {\n    return <div>Loading...</div>;\n  }\n\n  const handleApprove = async (id) => {\n\n   \n  \n    await concert.methods\n    .approveOffer(id)\n    .send({from: accounts[0], gas: 300000})\n    .then(() => history.push('/'));\n  };\n\n  return (\n    <Container>\n      <div>\n        <Grid container justifyContent=\"center\" className={classes.spacing}>\n          <Grid item key={shows.id}>\n            <EventBox show={shows}></EventBox>\n          </Grid>\n        </Grid>\n      </div>\n      <div>\n        <Grid\n          container\n          spacing={8}\n          alignItems=\"center\"\n          justifyContent=\"center\"\n          className={classes.spacing}\n        >\n          <Grid item xs={12} md={6} lg={4} key={offers.id}>\n            <OfferCard offer={offers} handleApprove={handleApprove} />\n          </Grid>\n        </Grid>\n      </div>\n    </Container>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getConcert } from '../utils';\nimport Typography from '@mui/material/Typography';\nimport Button from \"@mui/material/Button\";\nimport Container from \"@mui/material/Container\";\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\nimport { makeStyles } from \"@mui/styles\";\nimport TextField from \"@mui/material/TextField\";\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles({\n    field: {\n      marginTop: 20,\n      marginBottom: 20,\n      display: 'block'\n    },\n    boxes: {\n      padding: 45,\n      marginTop: 40\n    }\n    \n  })\n\nexport default function Create() {\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [concert, setConcert] = useState(undefined);\n  const classes = useStyles();\n  const history = useHistory();\n  const [date, setDate] = useState('');\n  const [billing, setBilling] = useState('');\n  const [city, setCity] = useState('');\n  const [venue, setVenue] = useState('');\n  const [guarantee, setGuarantee] = useState('');\n  const [deposit, setDeposit] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [sendMoney, setSendMoney] = useState('');\n  const [dateError, setDateError] = useState(false);\n  const [billingError, setBillingError] = useState(false);\n  const [cityError, setCityError] = useState(false);\n  const [venueError, setVenueError] = useState(false);\n  const [guaranteeError, setGuaranteeError] = useState(false);\n  const [depositError, setDepositError] = useState(false);\n  const [dueDateError, setDueDateError] = useState(false);\n  const [sendMoneyError, setSendMoneyError] = useState(false);\n\n\n  \n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const concert = await getConcert(web3);\n      setWeb3(web3);\n      setAccounts(accounts);\n      setConcert(concert);\n    \n    };\n    init();\n    window.ethereum.on('accountsChanged', accounts => {\n      setAccounts(accounts);\n    });\n  }, []);\n \n  if(\n    typeof web3 === 'undefined'\n    || typeof accounts === 'undefined'\n    || typeof concert === 'undefined'\n  ) {\n    return <div>Loading...</div>\n  }\n\n    async function eventSubmit(e) {\n        e.preventDefault()\n        setDateError(false)\n        setBillingError(false)\n        setCityError(false)\n        setVenueError(false)\n        setGuaranteeError(false)\n        setDepositError(false)\n        setDueDateError(false)\n        \n    \n        if (date === '') {\n          setDateError(true)\n        }\n        if (billing === '') {\n          setBillingError(true)\n        }\n        if (city === '') {\n            setCityError(true)\n        }\n        if (venue === '') {\n            setVenueError(true)\n        }\n        if (guarantee === '') {\n          setGuaranteeError(true)\n        }\n        if (deposit === '') {\n          setDepositError(true)\n        }\n        if (dueDate === '') {\n          setDueDateError(true)\n        }\n        if (date && billing && city && venue && guarantee && deposit && dueDate) {\n\n          web3.utils.toBN(guarantee);\n          web3.utils.toBN(deposit);\n\n          await concert.methods\n          .createEvent(date, billing, city, venue)\n          .send({ from: accounts[0], gas: 3000000 });\n          await concert.methods\n          .createOffer(guarantee.toString(), deposit.toString(), dueDate)\n          .send({ from: accounts[0], gas: 3000000 })\n          .then(() => history.push(\"/offers\"));\n        } \n        \n      }\n\n\n      async function sendMoneySubmit(e) {\n        e.preventDefault()\n        setSendMoneyError(false)\n    \n        if (sendMoney === '') {\n          setSendMoneyError(true)\n        }\n        if (sendMoney) {\n         await concert.methods\n            .sendMoney()\n            .send({ from: accounts[0], gas: 3000000, value: sendMoney })\n            .then(() => history.go(0));\n            \n            \n        } \n      }\n\n\n\n\n  return (\n    <Container className={classes.boxes}>\n\n<br />\n      <div>\n        <Typography\n        className={classes.title}\n        variant=\"h6\" \n        color=\"textSecondary\"\n        component=\"h2\"\n        gutterBottom\n      >\n        Fund the show\n      </Typography>\n\n      <form noValidate autoComplete=\"off\" onSubmit={sendMoneySubmit}>\n        <TextField className={classes.field}\n          onChange={(e) => setSendMoney(e.target.value)}\n          label=\"Send Money(wei)\" \n          variant=\"outlined\" \n          color=\"secondary\" \n          required\n          error={sendMoneyError}\n        />\n        <br />\n      <div>\n      <Button\n        className={classes.btn}\n        onClick={() => console.log('you clicked me')}\n        type=\"submit\" \n        color=\"primary\" \n        variant=\"contained\"\n        endIcon={<KeyboardArrowRightIcon />}\n        >\n        Submit\n      </Button>\n      </div>\n      </form>\n     \n\n      </div>  \n      \n        <div>\n        <Typography\n        className={classes.title}\n        variant=\"h6\" \n        color=\"textSecondary\"\n        component=\"h2\"\n        gutterBottom\n      >\n        Create a New Offer\n      </Typography>\n\n      <form noValidate autoComplete=\"off\" onSubmit={eventSubmit}>\n        <div>\n        <TextField className={classes.field}\n          onChange={(e) => setDate(e.target.value)}\n          label=\"Date\" \n          variant=\"outlined\" \n          color=\"secondary\" \n          required\n          error={dateError}\n        />\n        <TextField className={classes.field}\n          onChange={(e) => setBilling(e.target.value)}\n          label=\"Billing\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          required\n          error={billingError}\n        />\n        <TextField className={classes.field}\n          onChange={(e) => setCity(e.target.value)}\n          label=\"City\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          required\n          error={cityError}\n        />\n        <TextField className={classes.field}\n          onChange={(e) => setVenue(e.target.value)}\n          label=\"Venue\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          required\n          error={venueError}\n        />\n        </div>\n        <br />\n        <div>\n           <TextField className={classes.field}\n          onChange={(e) => setGuarantee(e.target.value)}\n          label=\"Guarantee(wei)\" \n          variant=\"outlined\" \n          color=\"secondary\" \n          required\n          error={guaranteeError}\n        />\n        <TextField className={classes.field}\n          onChange={(e) => setDeposit(e.target.value)}\n          label=\"Deposit(wei)\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          required\n          error={depositError}\n        />\n        <TextField className={classes.field}\n          onChange={(e) => setDueDate(e.target.value)}\n          label=\"Due Date(unix)\"\n          variant=\"outlined\"\n          color=\"secondary\"\n          required\n          error={dueDateError}\n        />\n        </div>\n        <br />\n        <div>\n\n      <Button\n        className={classes.btn}\n        onClick={() => console.log('you clicked me')}\n        type=\"submit\" \n        color=\"primary\" \n        variant=\"contained\"\n        \n        \n        endIcon={<KeyboardArrowRightIcon />}\n        >\n        Submit\n      </Button>\n      </div>\n      </form>\n\n      </div> \n\n\n      \n        \n    </Container>\n\n\n  )\n}","import React from \"react\";\nimport { Box, Typography } from \"@mui/material\";\nimport List from '@mui/material/List';\nimport { IconButton } from \"@mui/material\";\nimport { ThumbUpAlt } from \"@mui/icons-material\";\n\n\nexport default function OfferBox({offer, handleReceive}) {\n    return (\n        <Box\n        border={1}\n        elevation={2}\n        borderColor=\"gold\"\n        height={400}\n        width={400}\n        display=\"flex\"\n        justifyContent=\"center\"\n        alignItems=\"center\"\n        bgcolor=\"primary.main\"\n        color=\"white\"\n      >\n       <List>\n       <Typography variant=\"h5\">\n            Confirmed Offer\n          </Typography>\n        <Typography variant=\"h6\">\n            Guarantee Balance: { offer.guarantee } wei\n          </Typography>\n          <Typography variant=\"h6\" >\n            Deposit Balance: { offer.deposit} wei\n          </Typography>\n          <Typography variant=\"h6\" >\n            Final Payment Due: { offer.dueDate}\n          </Typography>\n          <div>\n          <IconButton onClick={() => handleReceive(offer.id)}>\n              <Typography variant=\"body2\" color=\"white\">\n                <ThumbUpAlt /> Settle the show\n                </Typography>\n              </IconButton>\n              </div>\n          </List> \n\n      </Box>\n    );\n  }","import React from \"react\";\nimport { Card, CardContent, IconButton, Typography } from \"@mui/material\";\nimport AccountBalanceIcon from '@mui/icons-material/AccountBalance';\nimport { ThumbUpAlt } from \"@mui/icons-material\";\n\n\n\nexport default function OfferCard({ balance, handleWithdraw }) {\n  return (\n    <div>\n      <Card elevation={1} >\n        <CardContent>\n        <IconButton >\n              <Typography variant=\"body2\" color=\"primary.main\">\n                <AccountBalanceIcon />\n                </Typography>\n              </IconButton>\n        <Typography variant=\"h6\" color=\"primary.main\">\n            Balance: { balance } wei\n          </Typography>\n          <div>\n          <IconButton onClick={() => handleWithdraw()}>\n              <Typography variant=\"body2\" color=\"primary.main\">\n                <ThumbUpAlt /> Withdraw\n                </Typography>\n              </IconButton>\n              </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getConcert } from \"../utils\";\nimport { Grid, Container } from \"@mui/material\";\nimport OfferBox from \"../components/OfferBox\";\nimport BalanceCard from \"../components/BalanceCard\";\nimport EventBox from \"../components/EventBox\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles({\n  spacing: {\n    padding: 45,\n    marginTop: 40,\n  },\n});\n\nexport default function Offers() {\n  const classes = useStyles();\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [concert, setConcert] = useState(undefined);\n  const [shows, setShows] = useState([]);\n  const [offers, setOffers] = useState([]);\n  const [balance, setBalance] = useState([]);\n  const history = useHistory();\n\n  \n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const concert = await getConcert(web3);\n      setWeb3(web3);\n      setAccounts(accounts);\n      console.log(accounts);\n      setConcert(concert);\n      let showInfo = await concert.methods.readEvent().call().then();\n      let currentShow = showInfo[showInfo.length - 1];\n      setShows(currentShow);\n      let approvedOffer = await concert.methods.getAllOffers().call().then();\n      let currentApprovedOffer = approvedOffer[approvedOffer.length - 1];\n      setOffers(currentApprovedOffer);  \n      let updatedBalance = await concert.methods.getBalance().call().then();\n      setBalance(updatedBalance);\n    };\n    init();\n    window.ethereum.on('accountsChanged', accounts => {\n      setAccounts(accounts);\n    });\n  }, []);\n\n  if (\n    typeof web3 === \"undefined\" ||\n    typeof accounts === \"undefined\" ||\n    typeof concert === \"undefined\"\n    || typeof shows === 'undefined'\n    || typeof offers === 'undefined'\n    || typeof balance === 'undefined'\n  ) {\n    return <div>Loading...</div>;\n  }\n\n  const handleReceive = async (id) => {\n    \n\n    let approvedOffer = await concert.methods.getAllOffers().call().then();\n    let currentApprovedOffer = approvedOffer[approvedOffer.length - 1];\n    let guarantee = currentApprovedOffer[1];\n    console.log(guarantee);\n    \n        \n      await concert.methods\n      .receiveFullGuarantee(id)\n      .send({from: accounts[0], gas: 300000})\n      .then(() => history.go(0));\n  };\n\n  const handleWithdraw = async () => {\n    await concert.methods\n      .withdraw()\n      .send({ from: accounts[0], gas: 3000000 })\n      .then(() => history.go(0));\n  };\n\n  return (\n    <Container>\n      <Grid container spacing={8} className={classes.spacing}>\n        <Grid item xs={12} md={6} lg={4}>\n          <BalanceCard balance={balance} handleWithdraw={handleWithdraw} />\n        </Grid>\n      </Grid>\n\n      <Grid container spacing={8} className={classes.spacing}>\n        <Grid item key={shows.id}>\n          <EventBox show={shows}></EventBox>\n        </Grid>\n\n        <Grid item key={offers.id}>\n          <OfferBox offer={offers} handleReceive={handleReceive}></OfferBox>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getConcert} from '../utils';\nimport Typography from '@mui/material/Typography';\nimport Button from \"@mui/material/Button\";\nimport Container from \"@mui/material/Container\";\nimport KeyboardArrowRightIcon from \"@mui/icons-material/KeyboardArrowRight\";\nimport { makeStyles } from \"@mui/styles\";\nimport TextField from \"@mui/material/TextField\";\nimport { useHistory } from 'react-router-dom';\n\n\nconst useStyles = makeStyles({\n    field: {\n      marginTop: 20,\n      marginBottom: 20,\n      display: 'block'\n    },\n    boxes: {\n      padding: 45,\n      marginTop: 40\n    }\n    \n  })\n\nexport default function Landing() {\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [concert, setConcert] = useState(undefined);\n  const [purchaser, setPurchaser] = useState(\"\");\n  const [artist, setArtist] = useState('');\n  const [purchaserError, setPurchaserError] = useState(false);\n  const [artistError, setArtistError] = useState(false);\n  const classes = useStyles();\n  const history = useHistory();\n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const concert = await getConcert(web3);\n      setWeb3(web3);\n      setAccounts(accounts);\n      setConcert(concert);\n    };\n    init();\n  }, []);\n \n  if(\n    typeof web3 === 'undefined'\n    || typeof accounts === 'undefined'\n    || typeof concert === 'undefined'\n  ) {\n    return <div>Loading...</div>\n  }\n\n  async function concertSubmit(e) {\n    e.preventDefault()\n    setPurchaserError(false);\n    setArtistError(false)\n    \n        if (purchaser === \"\") {\n        setPurchaserError(true);\n        }\n        if (artist === '') {\n          setArtistError(true)\n        }\n        if (purchaser && artist) {\n         await concert.methods\n            .createParties(purchaser, artist)\n            .send({from:accounts[0], gas: 3000000 })\n            .then(() => history.push('/create'));\n            console.log(purchaser);\n            console.log(artist);\n        } \n    }\n    \n  \n\n  return (\n    <Container className={classes.boxes}>\n       \n        <Typography\n        className={classes.title}\n        variant=\"h6\" \n        color=\"textSecondary\"\n        component=\"h2\"\n        gutterBottom\n      >\n        Create a New Concert\n      </Typography>\n\n      <form noValidate autoComplete=\"off\" onSubmit={concertSubmit}>\n        <div>\n        <TextField\n            className={classes.field}\n            onChange={(e) => setPurchaser(e.target.value)}\n            label=\"Purchaser\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            required\n            error={purchaserError}\n          />\n        <TextField className={classes.field}\n          onChange={(e) => setArtist(e.target.value)}\n          label=\"Artist\" \n          variant=\"outlined\" \n          color=\"secondary\" \n          required\n          error={artistError}\n        />\n  \n        </div>\n        <br />\n\n\n      <Button\n        className={classes.btn}\n        onClick={() => console.log('you clicked me')}\n        type=\"submit\" \n        color=\"primary\" \n        variant=\"contained\"\n        \n        \n        endIcon={<KeyboardArrowRightIcon />}\n        >\n        Submit\n      </Button>\n      </form>\n\n      </Container>\n  )\n     \n\n}","import * as React from \"react\";\nimport { makeStyles } from \"@mui/styles\";\nimport { useHistory, useLocation } from \"react-router\";\nimport Drawer from \"@mui/material/Drawer\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport Typography from \"@mui/material/Typography\";\nimport ListItemIcon from \"@mui/material/ListItemIcon\";\nimport ListItemText from \"@mui/material/ListItemText\";\nimport { AddCircleOutlined, SubjectOutlined } from \"@mui/icons-material\";\n\n\n\nconst drawerWidth = 220\n\nconst useStyles = makeStyles({\n  page: {\n    background: '#f9f9f9',\n    width: '100%',\n  },\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    width: drawerWidth,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  active: {\n    background: '#f4f4f4'\n  },\n})\n\nexport default function Layout({ children }) {\n  const classes = useStyles()\n  const history = useHistory()\n  const location = useLocation()\n\n  const menuItems = [\n    { \n      text: 'New Show', \n      icon: <AddCircleOutlined color=\"primary\" />, \n      path: '/landing' \n    },\n\n    { \n      text: 'Create Offer', \n      icon: <AddCircleOutlined color=\"primary\" />, \n      path: '/create' \n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n      {/* app bar */}\n\n      {/* side drawer */}\n      <Drawer\n        className={classes.drawer}\n        variant=\"permanent\"\n        classes={{ paper: classes.drawerPaper }}\n        anchor=\"left\"\n      >\n        <div>\n    \n          <Typography variant=\"h4\" className={classes.title} color=\"primary.main\">\n            dYOb \n          </Typography>\n   \n        </div>\n\n        {/* links/list section */}\n        <List>\n          {menuItems.map((item) => (\n            <ListItem \n              button \n              key={item.text} \n              onClick={() => history.push(item.path)}\n              className={location.pathname === item.path ? classes.active : null}\n            >\n              <ListItemIcon>{item.icon}</ListItemIcon>\n              <ListItemText primary={item.text} />\n            </ListItem>\n          ))}\n        </List>\n        \n      </Drawer>\n\n      {/* main content */}\n      <div className={classes.page}>\n        { children }\n      </div>\n    </div>\n  )\n}","import React, { useEffect, useState } from \"react\";\nimport { getWeb3, getConcert } from \"./utils\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Offers from \"./pages/Offers\";\nimport Create from \"./pages/Create\";\nimport Main from \"./pages/Main\";\nimport Landing from \"./pages/Landing\";\nimport Layout from \"./components/Layout\";\n\nfunction App() {\n  const [web3, setWeb3] = useState(undefined);\n  const [accounts, setAccounts] = useState(undefined);\n  const [concert, setConcert] = useState(undefined);\n\n  useEffect(() => {\n    const init = async () => {\n      const web3 = await getWeb3();\n      const accounts = await web3.eth.getAccounts();\n      const concert = await getConcert(web3);\n      setWeb3(web3);\n      setAccounts(accounts);\n      setConcert(concert);\n    };\n    init();\n    window.ethereum.on('accountsChanged', accounts => {\n      setAccounts(accounts);\n    });\n  }, []);\n\n  if (\n    typeof web3 === \"undefined\" ||\n    typeof accounts === \"undefined\" ||\n    typeof concert === \"undefined\"\n  ) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <Router>\n      <Layout>\n        <Switch>\n          <Route exact path=\"/\">\n            <Main />\n          </Route>\n          <Route path=\"/landing\">\n            <Landing />\n          </Route>\n          <Route path=\"/offers\">\n            <Offers />\n          </Route>\n          <Route path=\"/create\">\n            <Create />\n          </Route>\n        </Switch>\n      </Layout>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}